{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": { "url": "data/price_bread.csv", "format": { "type": "csv" } },

  "transform": [
    { "calculate": "toDate(datum.dateISO)", "as": "date" },
    { "calculate": "toNumber(datum.price)", "as": "price_num" }
  ],

  "title": {
    "text": "Six bread rolls price (white/brown)",
    "anchor": "start",
    "fontSize": 18,
    "subtitleFontSize": 12
  },

  "width": "container",
  "height": 340,

  "layer": [
    {
      "mark": { "type": "rule", "strokeWidth": 1.5 },
      "encoding": {
        "x": { "field": "date", "type": "temporal", "title": null },
        "y": { "value": 0 },
        "y2": { "field": "price_num", "type": "quantitative" },
        "color": { "value": "#E6C89C" }
      }
    },

    {
      "mark": { "type": "point", "filled": true, "size": 80 },
      "encoding": {
        "x": { "field": "date", "type": "temporal" },
        "y": { "field": "price_num", "type": "quantitative" },
        "color": { "value": "#8C4A2F" },
        "tooltip": [
          { "field": "item_name", "title": "Item" },
          { "field": "date", "type": "temporal", "format": "%b %Y", "title": "Month" },
          { "field": "price_num", "format": ".3f", "title": "Price" }
        ]
      }
    }
  ],

  "config": {
    "background": "transparent",
    "view": { "stroke": "transparent" }
  }
}
