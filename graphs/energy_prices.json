{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Falling Costs of Renewable Energy Technologies in the UK",
    "fontSize": 18,
    "font": "Arial",
    "anchor": "start",
    "color": "#333",
    "subtitle": "Average cost per unit of energy across lifetime of new power plants (inflation-adjusted)",
    "subtitleFontSize": 12,
    "subtitleColor": "#666"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/yolwinpariaton/yolwinpariaton.github.io/main/data/levelized-cost-of-energy.csv"
  },
  "width": 600,
  "height": 400,
  "transform": [
    {
      "fold": [
        "Solar photovoltaic levelized cost of energy",
        "Onshore wind levelized cost of energy"
      ],
      "as": ["Technology", "Cost"]
    },
    {
      "filter": "!(datum.Technology == 'Solar photovoltaic levelized cost of energy' && year(datum.Year) < 2011)"
    },
    {
      "filter": "!(datum.Technology == 'Solar photovoltaic levelized cost of energy' && year(datum.Year) > 2023)"
    },
    {
      "calculate": "replace(datum.Technology, ' levelized cost of energy', '')",
      "as": "Technology"
    }
  ],
  "mark": {"type": "line", "point": true, "strokeWidth": 2.5},
  "encoding": {
    "x": {
      "field": "Year",
      "type": "temporal",
      "title": "Year",
      "axis": {
        "format": "%Y",
        "labelAngle": 0,
        "titleFontSize": 14,
        "labelFontSize": 12
      }
    },
    "y": {
      "field": "Cost",
      "type": "quantitative",
      "title": "Levelized Cost ($/kWh)",
      "axis": {"titleFontSize": 14, "labelFontSize": 12, "format": ".2f"},
      "scale": {"domain": [0, 0.6]}
    },
    "color": {
      "field": "Technology",
      "type": "nominal",
      "scale": {
        "domain": ["Solar photovoltaic", "Onshore wind"],
        "range": ["#FFC107", "#4CAF50"]
      },
      "legend": {
        "title": "Technology",
        "orient": "top-right",
        "titleFontSize": 12,
        "labelFontSize": 11
      }
    },
    "tooltip": [
      {"field": "Year", "type": "temporal", "format": "%Y"},
      {"field": "Technology", "type": "nominal"},
      {
        "field": "Cost",
        "type": "quantitative",
        "format": ".3f",
        "title": "Cost ($/kWh)"
      }
    ]
  },
  "config": {
    "view": {"stroke": "transparent"},
    "axis": {"grid": true, "gridColor": "#e0e0e0"}
  }
}