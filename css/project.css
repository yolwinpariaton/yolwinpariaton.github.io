/* ================================
   styles.css (FULL - corrected)
   ================================ */

/* Basic reset */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
}

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #0f172a;
  background: #ffffff;
  line-height: 1.4;
}

/* Page layout (adjust if you already have a container system) */
main {
  width: min(1100px, 92vw);
  margin: 24px auto 56px auto;
}

/* Section spacing so charts never overlap next headings */
section {
  margin: 0 0 34px 0;
}

/* Your framed chart cards */
.chart-frame {
  background: #ffffff;
  border: 3px solid #d9deef;
  border-radius: 38px;
  padding: 26px 28px 26px 28px;
  box-shadow: 0 10px 24px rgba(2, 6, 23, 0.06);
  margin: 18px 0 26px 0;

  /* CRITICAL: do not clip Vega content (legends can be near edges) */
  overflow: visible;
}

/* The div where Vega gets embedded (e.g. <div id="vis6"></div>) */
.chart-frame .vis,
.chart-frame .chart,
.chart-frame [id^="vis"] {
  width: 100%;
  overflow: visible;
}

/* Vega embed wrapper */
.vega-embed {
  width: 100% !important;
  max-width: 100% !important;
  overflow: visible !important;
}

/* Ensure SVG scales nicely */
.vega-embed svg {
  width: 100% !important;
  height: auto !important;
  display: block;
}

/* If Vega outputs a canvas, keep it responsive too */
.vega-embed canvas {
  max-width: 100% !important;
  height: auto !important;
}

/* Remove Vega action menu spacing if it ever appears */
.vega-embed .vega-actions {
  display: none !important;
}

/* Headings / typography (optional but safe) */
h1, h2, h3 {
  margin: 18px 0 10px 0;
  line-height: 1.15;
}

p {
  margin: 10px 0;
}

/* Mobile adjustments */
@media (max-width: 720px) {
  main {
    width: min(980px, 94vw);
  }

  .chart-frame {
    border-radius: 26px;
    padding: 18px 16px 18px 16px;
  }
}
