/* ===========================
   project.css (FULL REPLACEMENT)
   =========================== */

/* Basic reset */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #0f172a;
  background: #ffffff;
  line-height: 1.5;
}

/* IMPORTANT:
   Prevent any accidental “overlay shade” from pseudo-elements
   (this fixes the black/grey tint issue you showed). */
body::before,
body::after,
main::before,
main::after,
.container::before,
.container::after {
  content: none !important;
}

/* Header (your hero area) */
header {
  background: #0b1a33; /* keep your dark banner */
  color: #ffffff;
  padding: 48px 0 32px;
}

/* Make sure header is not “shading” the rest */
header * {
  opacity: 1 !important;
}

/* Main container */
.container {
  width: min(1100px, 92vw);
  margin: 0 auto;
}

/* Section spacing */
section {
  padding: 28px 0;
}

/* Headings */
h1 {
  font-size: clamp(2.2rem, 3.2vw, 3.6rem);
  line-height: 1.05;
  margin: 0 0 10px 0;
  letter-spacing: -0.02em;
}

header p {
  margin: 0;
  font-size: 1.15rem;
  color: rgba(255, 255, 255, 0.85);
}

/* Content typography */
h2 {
  font-size: 2rem;
  margin: 22px 0 10px;
  letter-spacing: -0.01em;
}

h3 {
  font-size: 1.35rem;
  margin: 18px 0 8px;
}

p {
  margin: 0 0 12px;
  color: #1f2937;
}

/* ===========================
   Chart layout
   =========================== */

.chart-block {
  margin: 20px 0 34px;
}

/* The framed card around each Vega chart */
.chart-frame {
  border: 3px solid #d9def0;
  border-radius: 36px;
  padding: 18px 18px 16px;
  background: #ffffff;
  box-shadow: 0 10px 24px rgba(2, 6, 23, 0.06);
  overflow: hidden; /* prevents SVG from spilling */
}

/* Chart container (the div you embed into, e.g., #vis6) */
.chart {
  width: 100%;
  display: block;
}

/* Vega-Embed wrapper should fill the available width */
.chart .vega-embed {
  width: 100% !important;
  max-width: 100% !important;
}

/* Ensure embedded SVG scales responsively */
.chart .vega-embed svg {
  width: 100% !important;
  height: auto !important;
  display: block;
}

/* Prevent legend clipping */
.chart-frame .vega-embed .vega-actions {
  display: none !important;
}

/* Source line under charts */
.source {
  margin-top: 10px;
  font-size: 0.95rem;
  color: #475569;
}

/* Make sure no section wrapper is unintentionally transparent */
section,
.container,
.chart-block,
.chart-frame {
  opacity: 1 !important;
}

/* Responsive tweaks */
@media (max-width: 640px) {
  .chart-frame {
    border-radius: 26px;
    padding: 14px;
  }
}
