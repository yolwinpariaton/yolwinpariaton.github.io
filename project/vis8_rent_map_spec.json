{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

  "title": {
    "text": "Rent Inflation Across UK Nations",
    "subtitle": "Latest year-on-year percentage change | Darker blues indicate higher inflation",
    "anchor": "start",
    "fontSize": 30,
    "subtitleFontSize": 18,
    "subtitleColor": "#667085",
    "offset": 12
  },

  "width": "container",
  "height": 430,
  "padding": { "left": 10, "right": 10, "top": 6, "bottom": 10 },

  "config": {
    "view": { "stroke": null },

    "legend": {
      "orient": "bottom",
      "direction": "horizontal",
      "titleFontSize": 16,
      "labelFontSize": 16,
      "titlePadding": 10,
      "labelPadding": 6,
      "gradientThickness": 16,
      "gradientLength": 520
    }
  },

  "layer": [
    {
      "data": {
        "url": "project/UK_NATIONS_TOPO.json",
        "format": { "type": "topojson", "feature": "FEATURE_NAME_HERE" }
      },

      "transform": [
        {
          "lookup": "properties.AREACD",
          "from": {
            "data": { "url": "project/vis8_rent_map_countries.json" },
            "key": "areacd",
            "fields": ["areanm", "rent_inflation_yoy_pct"]
          }
        }
      ],

      "mark": {
        "type": "geoshape",
        "stroke": "#ffffff",
        "strokeWidth": 2
      },

      "encoding": {
        "color": {
          "field": "rent_inflation_yoy_pct",
          "type": "quantitative",
          "title": "Rent inflation (% y/y)",
          "scale": {
            "scheme": "blues",
            "domain": [3.0, 9.0]
          }
        },
        "tooltip": [
          { "field": "areanm", "type": "nominal", "title": "Nation" },
          {
            "field": "rent_inflation_yoy_pct",
            "type": "quantitative",
            "title": "Rent inflation (% y/y)",
            "format": ".1f"
          }
        ]
      }
    }
  ]
}
